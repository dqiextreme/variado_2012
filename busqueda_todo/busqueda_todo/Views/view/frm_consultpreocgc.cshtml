
@{ Register Assembly="Anthem" Namespace="Anthem" TagPrefix="anthem" }
@{ Register Src="controles/Menu.ascx" TagName="Menu" TagPrefix="uc1" }
@{ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolkit" }
@{ Register Src="controles/CloseSession.ascx" TagName="CloseSession" TagPrefix="uc2" }
@{ Register src="controles/Ctr_Usuario.ascx" tagname="Ctr_Usuario" tagprefix="uc3" }
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
    <title></title>
    <style type="text/css">
        .style2
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
        }
        .modalBackground
        {
            background-color: #000000;
            filter: alpha(opacity=60);
            opacity: 0.5;
        }
        .modalPopup
        {
            background-color: #ffffdd;
            border-width: 3px;
            border-style: solid;
            border-color: Gray;
            padding: 3px;
            width: 500px;
        }
        #progressBackgroundFilter
        {
            position: fixed;
            top: 0px;
            bottom: 0px;
            left: 0px;
            right: 0px;
            overflow: hidden;
            padding: 0;
            margin: 0;
            background-color: #000;
            filter: alpha(opacity=60);
            opacity: 0.5;
            z-index: 1000;
        }
        #processMessage
        {
            background-color: #FFFFFF;
            border: 30px solid #000000;
            position: fixed;
            top: 30%;
            left: 43%;
            padding: 10px;
            width: 30%;
            z-index: 1001;
            background-color: #fff;
            font-family: Verdana;
            font-size: 12px;
        }
        .style3
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            color: #FFFFFF;
        }
        .style4
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body topmargin='0'>
    <form id="form1" runat="server">
    <div align="center">
        <asp:ScriptManager ID="ScriptManager1" runat="server" EnableScriptGlobalization="True"
            EnableScriptLocalization="False" />
        <table style="width: 780px" cellpadding="0" cellspacing="0">
            <tr>
                <td align="center">
                    <uc1:Menu ID="Menu1" runat="server" />
                </td>
            </tr>
            <tr>
                <td align="left" bgcolor="#BBD4F8" style="border: 1px solid #3b619c">
                   <table width="100%">
                            <tr>
                                <td width="5">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton1" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                </td>
                                <td width="45">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:UpdatePanel ID="_UP_MenuPrincipal" runat="server">
                                            <ContentTemplate>
                                                <asp:ImageButton ID="_Img_Nuevo" runat="server" ImageUrl="image/new.gif" CausesValidation="False"
                                                    OnClick="_Img_Nuevo_Click" />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Nuevo_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="¿Desea crear un nuevo registro?" Enabled="True" TargetControlID="_Img_Nuevo">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                                <asp:ImageButton ID="_Img_Guardar" runat="server" ImageUrl="image/save.gif" OnClick="_Img_Guardar_Click"
                                                    ValidationGroup="Guardar" />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Guardar_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="¿Desea guardar el registro?" Enabled="True" TargetControlID="_Img_Guardar">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                            </ContentTemplate>
                                        </asp:UpdatePanel>
                                    </span></strong></font>
                                </td>
                                <td width="10%">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton6" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                    <uc2:CloseSession ID="CloseSession2" runat="server" />
                                </td>
                                <td style="text-align: right">
                                    <uc3:ctr_usuario ID="Ctr_Usuario1" runat="server" />
                                </td>
                            </tr>
                        </table>
                </td>
            </tr>
            <tr>
                <td align="left" bgcolor="#666666" class="style3" style="text-align: center">
                    Consulta de Preorden de Compra
                </td>
            </tr>
            <tr>
                <td align="left">
                    <br />
                    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                        <ContentTemplate>
                            <asp:Panel ID="_Pnl_PanelBusqueda" runat="server">
                                <table style="width: 100%;">
                                    <tr valign="top">
                                        <td class="style2" width="10%">
                                            Proveedor:
                                        </td>
                                        <td class="style2">
                                            <asp:DropDownList ID="_Ddl_Proveedor" runat="server" Font-Names="Verdana" Font-Size="7pt"
                                                Enabled="False">
                                            </asp:DropDownList>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" width="10%">
                                            Desde:
                                        </td>
                                        <td class="style2">
                                            <asp:TextBox ID="_Txt_Desde_" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="89px"></asp:TextBox>
                                            <ajaxToolkit:CalendarExtender ID="_Txt_Desde__CalendarExtender" runat="server" Enabled="True"
                                                PopupButtonID="_Img_CalendarioH0" TargetControlID="_Txt_Desde_">
                                            </ajaxToolkit:CalendarExtender>
                                            <asp:ImageButton ID="_Img_CalendarioH0" runat="server" ImageUrl="~/images/calendario.gif" />
                                            &nbsp;&nbsp; Hasta:&nbsp;<asp:TextBox ID="_Txt_Hasta" runat="server" BorderColor="#000001"
                                                BorderStyle="Solid" BorderWidth="1px" Font-Names="Verdana" Font-Size="8pt" Width="89px"></asp:TextBox>
                                            <ajaxToolkit:CalendarExtender ID="_Txt_Hasta_CalendarExtender" runat="server" Enabled="True"
                                                TargetControlID="_Txt_Hasta" PopupButtonID="_Img_CalendarioH">
                                            </ajaxToolkit:CalendarExtender>
                                            <asp:ImageButton ID="_Img_CalendarioH" runat="server" ImageUrl="~/images/calendario.gif" />
                                            &nbsp;
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" width="11%">
                                            N° Preorden:
                                        </td>
                                        <td class="style2">
                                            <asp:TextBox ID="_Txt_NPreoc" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="88px"></asp:TextBox>
                                            <ajaxToolkit:FilteredTextBoxExtender ID="_Txt_NPreoc_FilteredTextBoxExtender" runat="server"
                                                Enabled="True" FilterType="Numbers" TargetControlID="_Txt_NPreoc">
                                            </ajaxToolkit:FilteredTextBoxExtender>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td align="left" class="style4" colspan="2">
                                            <asp:Button ID="_Btn_Consultar" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" OnClick="_Btn_Consultar_Click" Text="Consultar" />
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" align="left" colspan="2">
                                            <asp:GridView ID="_Dtg_ConsultaPOC" runat="server" AllowPaging="True" AutoGenerateColumns="False"
                                                CellPadding="4" ForeColor="#333333" GridLines="None" OnPageIndexChanging="_Dtg_Productos_PageIndexChanging"
                                                PageSize="20" Style="text-align: left" Width="100%" OnSelectedIndexChanged="_Dtg_ConsultaPOC_SelectedIndexChanged">
                                                <RowStyle BackColor="White" Font-Bold="False" Font-Names="Verdana" Font-Size="7pt" />
                                                <Columns>
                                                    <asp:CommandField ShowSelectButton="True" />
                                                    <asp:BoundField DataField="codigo" HeaderText="N° Preorden" />
                                                    <asp:BoundField DataField="fecha" HeaderText="Fecha" />
                                                    <asp:BoundField DataField="proveedor" HeaderText="Proveedor" />
                                                    <asp:BoundField DataField="status" HeaderText="Estatus" />
                                                    <asp:BoundField DataField="costo" HeaderText="Costo Total" />
                                                    <asp:TemplateField HeaderText="cproveedor" Visible="False">
                                                        <EditItemTemplate>
                                                            <asp:TextBox ID="TextBox1" runat="server" Text='@{ # Bind("cproveedor")}
'></asp:TextBox>
                                                        </EditItemTemplate>
                                                        <ItemTemplate>
                                                            <asp:Label ID="Label1" runat="server" Text='@{ # Bind("cproveedor")}
'></asp:Label>
                                                        </ItemTemplate>
                                                    </asp:TemplateField>
                                                </Columns>
                                                <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                                                <PagerStyle BackColor="#2461BF" Font-Names="Verdana" Font-Size="7pt" ForeColor="White"
                                                    HorizontalAlign="Center" />
                                                <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
                                                <HeaderStyle BackColor="#BBD4F8" BorderColor="Black" Font-Bold="True" Font-Names="Verdana"
                                                    Font-Size="7pt" ForeColor="Black" HorizontalAlign="Left" />
                                                <EditRowStyle BackColor="#2461BF" />
                                                <AlternatingRowStyle BackColor="White" />
                                            </asp:GridView>
                                        </td>
                                    </tr>
                                </table>
                            </asp:Panel>
                            <asp:Panel ID="_Pnl_Preorden" runat="server" Visible="False">
                                <table style="width: 100%;">
                                    <tr>
                                        <td class="style2" width="12%">
                                            Preorden N°:
                                        </td>
                                        <td>
                                            <asp:TextBox ID="_Txt_NPreoc_" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="88px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                        <td align="right">
                                            <asp:LinkButton ID="_Lnk_Volver" runat="server" Font-Names="Verdana" Font-Size="7pt"
                                                OnClick="_Lnk_Volver_Click">Volver</asp:LinkButton>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style2" width="14%">
                                            Orden Compra N°:
                                        </td>
                                        <td>
                                            <asp:TextBox ID="_Txt_OrdenCompra" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" ReadOnly="True" Width="88px"></asp:TextBox>
                                        </td>
                                        <td align="right">
                                            &nbsp;
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style2">
                                            Fecha:
                                        </td>
                                        <td colspan="2">
                                            <asp:TextBox ID="_Txt_Fecha_" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="88px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style2">
                                            Proveedor:
                                        </td>
                                        <td colspan="2">
                                            <asp:TextBox ID="_Txt_Proveedor" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="351px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style2">
                                            Estatus:
                                        </td>
                                        <td colspan="2">
                                            <asp:TextBox ID="_Txt_Estatus" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="352px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style2">
                                            Costo Total
                                        </td>
                                        <td colspan="2">
                                            <asp:TextBox ID="_Txt_CostoTotal" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="88px" ReadOnly="True"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="style4" colspan="3">
                                            <asp:GridView ID="_Dtg_DetallePreoc" runat="server" AutoGenerateColumns="False" CellPadding="4"
                                                ForeColor="#333333" GridLines="None" OnPageIndexChanging="_Dtg_Productos_PageIndexChanging"
                                                PageSize="20" Style="text-align: left" Width="100%">
                                                <RowStyle BackColor="White" Font-Bold="False" Font-Names="Verdana" Font-Size="7pt" />
                                                <Columns>
                                                    <asp:BoundField DataField="cproducto" HeaderText="Código" />
                                                    <asp:BoundField DataField="cnamefc" HeaderText="Descripción" />
                                                    <asp:BoundField DataField="cinvsugerido" HeaderText="Inv. Sugerido" />
                                                    <asp:BoundField DataField="cinventpedir" HeaderText="Inv. Pedido" />
                                                    <asp:BoundField DataField="cdescuento1" HeaderText="Desc 1" />
                                                    <asp:BoundField DataField="cdescuento2" HeaderText="Desc 2" />
                                                    <asp:BoundField DataField="ctotcostosimp" HeaderText="Costo S. Imp" />
                                                    <asp:BoundField DataField="cimpcosto" HeaderText="Costo Imp" />
                                                    <asp:BoundField DataField="ccostototal" HeaderText="Costo Total" />
                                                </Columns>
                                                <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                                                <PagerStyle BackColor="#2461BF" Font-Names="Verdana" Font-Size="7pt" ForeColor="White"
                                                    HorizontalAlign="Center" />
                                                <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
                                                <HeaderStyle BackColor="#BBD4F8" BorderColor="Black" Font-Bold="True" Font-Names="Verdana"
                                                    Font-Size="7pt" ForeColor="Black" HorizontalAlign="Left" />
                                                <EditRowStyle BackColor="#2461BF" />
                                                <AlternatingRowStyle BackColor="White" />
                                            </asp:GridView>
                                        </td>
                                    </tr>
                                </table>
                            </asp:Panel>
                        </ContentTemplate>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td align="left">
                </td>
            </tr>
        </table>
    </div>
    <div style="position: fixed; left: 40%; top: 50%; width: 200; height: 200; z-index: 100600; font-family: verdana; font-size: 9px; font-weight: bold; background-color: #FFFFFF;">
        <asp:UpdateProgress ID="UpdateProgress2" runat="server" AssociatedUpdatePanelID="UpdatePanel1"
            DisplayAfter="20">
            <ProgressTemplate>
                <div id="processMessage" style="border: 1px solid #000000">
                    Procesando la solicitud, espere por favor..!!<br />
                    <br />
                    <img alt="Loading" src="images/animated_loading.gif" />
                </div>
            </ProgressTemplate>
        </asp:UpdateProgress>
    </div>
    </form>
</body>
</html>
