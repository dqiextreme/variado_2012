

@{ Register Src="controles/Menu.ascx" TagName="Menu" TagPrefix="uc1" }
@{ Register Src="controles/CloseSession.ascx" TagName="CloseSession" TagPrefix="uc2" }
@{ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajaxToolkit" }

@{ Register src="controles/Ctr_Usuario.ascx" tagname="Ctr_Usuario" tagprefix="uc3" }

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1" runat="server">
	<title>@{ Response.Write(_Str_TituloReporte);}
</title>
	
	<link rel="stylesheet" type="text/css" href="StyleSheet.css" />

</head>
<body topmargin="0" bgcolor='white'>
	<form id="form1" runat="server">
	<center>
		<asp:ScriptManager ID="ScriptManager1" runat="server" EnableScriptGlobalization="True" EnableScriptLocalization="False"></asp:ScriptManager>
		<table style="width: 780px;" cellpadding="0" cellspacing="0">
			<tr>
				<td align="left">
					<uc1:Menu ID="Menu1" runat="server" />
				</td>
			</tr>
			<tr>
				<td align="left" bgcolor="#BBD4F8" style="border: 1px solid #3b619c">
					<font face="Verdana" size="1"><strong><span>
						<table width="100%">
                            <tr>
                                <td width="5">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton4" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                </td>
                                <td width="45">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:UpdatePanel ID="_Upd_PanelBoton" runat="server" UpdateMode="Conditional">
                                            <ContentTemplate>
                                                <asp:ImageButton ID="_Img_Nuevo" runat="server" ImageUrl="image/new.gif" 
                                                    CausesValidation="False" />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Nuevo_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="Desea generar un nuevo pedido?" Enabled="True" TargetControlID="_Img_Nuevo">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                                <asp:ImageButton ID="_Img_Guardar" runat="server" ImageUrl="image/save.gif" 
                                                    ValidationGroup="GuardarPedido" />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Guardar_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="Desea terminar el pedido actual?" Enabled="True" TargetControlID="_Img_Guardar">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                            </ContentTemplate>
                                        </asp:UpdatePanel>
                                    </span></strong></font>
                                </td>
                                <td width="10%">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton5" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                    <uc2:CloseSession ID="CloseSession1" runat="server" />
                                </td>
                                <td style="text-align: right">
                                    <uc3:Ctr_Usuario ID="Ctr_Usuario1" runat="server" />
                                </td>
                            </tr>
                        </table>
						
						
					</span></strong></font>
				</td>
			</tr>
			<tr>
				<td align="center" bgcolor="#666666">
					<asp:Label ID="_Lbl_TituloReporte" runat="server" Text="Título del reporte" Font-Bold="True" Font-Names="Verdana" Font-Size="8pt" ForeColor="White"></asp:Label>
				</td>
			</tr>
		</table>
		<table width="780px" bgcolor=white>
			<tr>
				<td align="left">
					<asp:UpdatePanel ID="_UP_Usuarios" runat="server">
					<ContentTemplate>
					<table style="font-family: Verdana; font-size: 8pt; font-weight: bold;" width="100%">
						<tr>
							<td align="left" width="100"><asp:Label ID="_Lbl_Compania" runat="server" Text="Compañia :"></asp:Label></td>
							<td align="left"><asp:DropDownList ID="_Cb_ConsultaCompania" runat="server" AutoCallBack="True" Font-Names="Verdana" Font-Size="8pt" Width="390px" AutoPostBack="True" onselectedindexchanged="_Cb_ConsultaCompania_SelectedIndexChanged"></asp:DropDownList></td>
						</tr>
					</table>
					<table width='100%'>
						<tr valign='middle'>
							<td width='350px' align='center'>
								<br>
								<span class="textoTitulo">Seleccione un usuario</span><br><br>
								<asp:ListBox ID="_Lb_Usuarios" runat="server" CssClass="textoRegular" Width="100%" Rows="10" AutoPostBack="True" onselectedindexchanged="_Lb_Usuarios_SelectedIndexChanged"></asp:ListBox>
							</td>
							<td align='center'>
								<table width='100%' height='100%' cellpadding='4px' cellspacing='4px'>
									<tr><td width='130px'><asp:Button ID="_Btn_Habilitar" runat="server" Text="Habilitar acceso" BorderStyle="Solid" BorderWidth="1px" CssClass="textoRegular" Width="130px" onclick="_Btn_Habilitar_Click" />
										<ajaxToolkit:ConfirmButtonExtender ID="_Btn_Habilitar_ConfirmButtonExtender" runat="server" ConfirmText="¿Está seguro de que desea HABILITAR el acceso al usuario seleccionado?" Enabled="True" TargetControlID="_Btn_Habilitar">
										</ajaxToolkit:ConfirmButtonExtender>
										</td><td align='left'><span class="textoRegular"><font color='green'>Habilita</font> el acceso a T3Web del usuario seleccionado.</td></tr>
									<tr><td width='130px'><asp:Button ID="_Btn_Deshabilitar" runat="server" Text="Deshabilitar acceso" CssClass="textoRegular" Width="130px" BorderStyle="Solid" BorderWidth="1px" onclick="_Btn_Deshabilitar_Click" />
										<ajaxToolkit:ConfirmButtonExtender ID="_Btn_Deshabilitar_ConfirmButtonExtender" runat="server" ConfirmText="¿Está seguro de que desea DESHABILITAR el acceso al usuario seleccionado?" Enabled="True" TargetControlID="_Btn_Deshabilitar">
										</ajaxToolkit:ConfirmButtonExtender>
										</td><td align='left'><span class="textoRegular"><font color='red'>Deshabilita</font> el acceso a T3Web del usuario seleccionado.</td></tr>
									<tr><td width='130px'><asp:Button ID="_Btn_Resetear" runat="server" Text="Resetear clave" Width="130px" BorderStyle="Solid" BorderWidth="1px" CssClass="textoRegular" onclick="_Btn_Resetear_Click" />
										<ajaxToolkit:ConfirmButtonExtender ID="_Btn_Resetear_ConfirmButtonExtender" runat="server" ConfirmText="¿Está seguro de que desea RESETEAR la clave del usuario seleccionado?" Enabled="True" TargetControlID="_Btn_Resetear">
										</ajaxToolkit:ConfirmButtonExtender>
										</td><td align='left'><span class="textoRegular"><b>Resetea</b> la clave del usuario. El sistema generará una <i>clave provisional</i> aleatoria que debe hacerse llegar al usuario para que este establezca su nueva clave permanente.</td></tr>
								</table>
							</td>
						</tr>
					</table>
					</ContentTemplate>
					</asp:UpdatePanel>
				</td>
			</tr>
		</table>
	</center>

	@*messagebox ----------------------------------------------------------------------------------------------------------------------*@
	<asp:Button runat="server" ID="_Btn_MessageBoxHidden" Style="display: none" />
	<ajaxToolkit:ModalPopupExtender runat="server" ID="_MPE_MessageBox" BehaviorID="_MPE_MessageBoxBehavior" TargetControlID="_Btn_MessageBoxHidden" PopupControlID="_Pnl_MessageBoxPopup" BackgroundCssClass="modalBackground" DropShadow="True" RepositionMode="RepositionOnWindowScroll"></ajaxToolkit:ModalPopupExtender>
	<asp:Panel runat="server" CssClass="modalPopup" ID="_Pnl_MessageBoxPopup" Style="display: block; padding: 10px" Width="700px">
		<asp:Panel runat="Server" ID="_Pnl_MessageBox" Style="background-color: #FFFFFF; border: solid 1px Gray; color: Black; text-align: center;">
			<asp:UpdatePanel ID="_UP_MessageBox" runat="server">
				<ContentTemplate>
					<table style="width: 100%;">
						<tr valign="top">
							<td>
								<asp:Label ID="_Lbl_MessageBox" runat="server" Font-Names="Verdana" Font-Size="8pt"></asp:Label>
								<br />
								<br />
								<asp:Button ID="_Btn_MessageBoxAceptar" runat="server" BorderColor="Black" BorderStyle="Solid" BorderWidth="1px" Font-Names="Verdana" Font-Size="8pt" Text="Aceptar" OnClick="_Btn_MessageBoxAceptar_Click" Style="height: 19px" />
							</td>
						</tr>
					</table>
				</ContentTemplate>
			</asp:UpdatePanel>
		</asp:Panel>
	</asp:Panel>
	@*messagebox ----------------------------------------------------------------------------------------------------------------------*@
	
	@*progress ----------------------------------------------------------------------------------------------------------------------*@
	<div style="position: fixed; z-index: 100600; font-family: verdana; font-size: 9px; font-weight: bold; background-color: #FFFFFF;">
		<asp:UpdateProgress ID="_UPR_Usuarios" runat="server" AssociatedUpdatePanelID="_UP_Usuarios" DisplayAfter="250">
			<ProgressTemplate>
				<div id="progressBackgroundFilter" style="display: block">
					@*bandera 1*@
				</div>
				<div id="processMessage" style="border: 1px solid #000000" style="left: 34%; top: 34%">Procesando, por favor espere...<br><br>
					<img alt="Loading" src="images/animated_loading.gif" />
				</div>
			</ProgressTemplate>
		</asp:UpdateProgress>
	</div>
	@*progress  ---------------------------------------------------------------------------------------------------------------------*@
	</form>
</body>
</html>
