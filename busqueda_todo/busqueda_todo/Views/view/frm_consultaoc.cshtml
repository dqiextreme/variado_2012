

@{ Register assembly="AjaxControlToolkit" namespace="AjaxControlToolkit" tagprefix="ajaxToolkit" }
@{ Register src="controles/Ctr_Usuario.ascx" tagname="Ctr_Usuario" tagprefix="uc3" }
@{ Register src="controles/CloseSession.ascx" tagname="CloseSession" tagprefix="uc2" }
@{ Register src="controles/Menu.ascx" tagname="Menu" tagprefix="uc1" }

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
<head runat="server">
    <title></title>
    <style type="text/css">

        .style3
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            color: #FFFFFF;
        }
        .style2
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
        }
        .style4
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            text-align: center;
        }
        #processMessage
        {
            background-color: #FFFFFF;
            border: 30px solid #000000;
            position: fixed;
            top: 30%;
            left: 43%;
            padding: 10px;
            width: 30%;
            z-index: 1001;
            background-color: #fff;
            font-family: Verdana;
            font-size: 12px;
        }
        .style5
        {
            font-size: 10px;
            font-family: Verdana;
            font-weight: bold;
            height: 4px;
        }
        </style>
</head>
<body>
    <form id="form1" runat="server">
    <div align="center">
        <asp:ScriptManager ID="ScriptManager1" runat="server" EnableScriptGlobalization="True"
            EnableScriptLocalization="False" />
        <table style="width: 780px" cellpadding="0" cellspacing="0" border="0">
            <tr>
                <td align="center">
                    <uc1:Menu ID="Menu1" runat="server" />
                </td>
                    &nbsp;</td>
            </tr>
            <tr>
                <td align="left" bgcolor="#BBD4F8" style="border: 1px solid #3b619c">
                    <font face="Verdana" size="1"><strong><span>
                        <table width="100%">
                            <tr>
                                <td width="5">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton1" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                </td>
                                <td width="45">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:UpdatePanel ID="_UP_MenuPrincipal" runat="server">
                                            <ContentTemplate>
                                                <asp:ImageButton ID="_Img_Nuevo" runat="server" ImageUrl="image/new.gif" CausesValidation="False"
                                                        />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Nuevo_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="¿Desea crear un nuevo registro?" Enabled="True" TargetControlID="_Img_Nuevo">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                                <asp:ImageButton ID="_Img_Guardar" runat="server" ImageUrl="image/save.gif" 
                                                    ValidationGroup="Guardar" />
                                                <ajaxToolkit:ConfirmButtonExtender ID="_Img_Guardar_ConfirmButtonExtender" runat="server"
                                                    ConfirmText="¿Desea guardar el registro?" Enabled="True" TargetControlID="_Img_Guardar">
                                                </ajaxToolkit:ConfirmButtonExtender>
                                            </ContentTemplate>
                                        </asp:UpdatePanel>
                                    </span></strong></font>
                                </td>
                                <td width="10%">
                                    <font face="Verdana" size="1"><strong><span>
                                        <asp:ImageButton Style="cursor: default" ID="ImageButton6" runat="server" ImageUrl="image/separator.gif" />
                                    </span></strong></font>
                                    <uc2:CloseSession ID="CloseSession2" runat="server" />
                                </td>
                                <td style="text-align: right">
                                    <uc3:Ctr_Usuario ID="Ctr_Usuario1" runat="server" />
                                </td>
                            </tr>
                        </table>
                    </span></strong></font>
                </td>
            </tr>
            <tr>
                <td align="left" bgcolor="#666666" class="style3" style="text-align: left">
                </td>
            </tr>
            <tr>
                <td align="left">
                    <br />
                    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
                        <ContentTemplate>
                            <asp:Panel ID="_Pnl_PanelBusqueda" runat="server">
                                <table style="width: 100%;" class="style2">
                                    <tr valign="top">
                                        <td class="style2" width="10%">
                                            Compañia:
                                        </td>
                                        <td class="style2" align="left">
                                            <asp:DropDownList ID="_Ddl_Compania" runat="server" AutoPostBack="True" Font-Names="Verdana"
                                                Font-Size="7pt" OnSelectedIndexChanged="_Ddl_Compania_SelectedIndexChanged">
                                            </asp:DropDownList>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" width="10%">
                                            Proveedor:
                                        </td>
                                        <td class="style2">
                                            <asp:DropDownList ID="_Ddl_Proveedor" runat="server" Font-Names="Verdana" Font-Size="7pt"
                                                Enabled="False">
                                            </asp:DropDownList>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" width="10%">
                                            Desde:
                                        </td>
                                        <td class="style2">
                                            <asp:TextBox ID="_Txt_Desde_" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="89px"></asp:TextBox>
                                            <ajaxToolkit:CalendarExtender ID="_Txt_Desde__CalendarExtender" runat="server" Enabled="True"
                                                PopupButtonID="_Img_CalendarioH0" TargetControlID="_Txt_Desde_">
                                            </ajaxToolkit:CalendarExtender>
                                            <asp:ImageButton ID="_Img_CalendarioH0" runat="server" ImageUrl="~/images/calendario.gif" />
                                            &nbsp;&nbsp; Hasta:&nbsp;<asp:TextBox ID="_Txt_Hasta" runat="server" BorderColor="#000001"
                                                BorderStyle="Solid" BorderWidth="1px" Font-Names="Verdana" Font-Size="8pt" Width="89px"></asp:TextBox>
                                            <ajaxToolkit:CalendarExtender ID="_Txt_Hasta_CalendarExtender" runat="server" Enabled="True"
                                                TargetControlID="_Txt_Hasta" PopupButtonID="_Img_CalendarioH">
                                            </ajaxToolkit:CalendarExtender>
                                            <asp:ImageButton ID="_Img_CalendarioH" runat="server" ImageUrl="~/images/calendario.gif" />
                                            &nbsp;
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" width="11%">
                                            N° Orden:
                                        </td>
                                        <td class="style2">
                                            <asp:TextBox ID="_Txt_NumeroOc" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" Width="88px"></asp:TextBox>
                                            <ajaxToolkit:FilteredTextBoxExtender ID="_Txt_NumeroOc_FilteredTextBoxExtender" runat="server"
                                                Enabled="True" FilterType="Numbers" TargetControlID="_Txt_NumeroOc">
                                            </ajaxToolkit:FilteredTextBoxExtender>
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style5" colspan="2">
                                            <asp:Button ID="_Btn_Hoy" runat="server" BorderWidth="1px" Font-Names="Verdana" 
                                                Font-Size="8pt" OnClick="_Btn_Hoy_Click" Text="Hoy" />
                                            &nbsp;<asp:Button ID="_Btn_Ayer" runat="server" BorderWidth="1px" 
                                                Font-Names="Verdana" Font-Size="8pt" OnClick="_Btn_Ayer_Click" Text="Ayer" />
                                            &nbsp;<asp:Button ID="_Btn_Semana" runat="server" BorderWidth="1px" 
                                                Font-Names="Verdana" Font-Size="8pt" OnClick="_Btn_Semana_Click" 
                                                Text="Semana" />
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td align="left" class="style4" colspan="2">
                                            <asp:Button ID="_Btn_Limpiar" runat="server" BorderWidth="1px" Font-Names="Verdana"
                                                Font-Size="8pt" OnClick="_Btn_Limpiar_Click" Text="Limpiar" />
                                            <asp:Button ID="_Btn_Consultar" runat="server" BorderWidth="1px" 
                                                Font-Names="Verdana" Font-Size="8pt" OnClick="_Btn_Consultar_Click" 
                                                Text="Consultar" />
                                        </td>
                                    </tr>
                                    <tr valign="top">
                                        <td class="style2" align="left" colspan="2">
                                            <asp:GridView ID="_Dtg_ConsultaOC" runat="server" AllowPaging="True" AutoGenerateColumns="False"
                                                CellPadding="4" ForeColor="#333333" GridLines="None" OnPageIndexChanging="_Dtg_Productos_PageIndexChanging"
                                                PageSize="20" Style="text-align: left" Width="100%" 
                                                OnSelectedIndexChanged="_Dtg_ConsultaOC_SelectedIndexChanged" 
                                                BorderStyle="Solid" BorderWidth="1px">
                                                <RowStyle BackColor="White" Font-Bold="False" Font-Names="Verdana" Font-Size="7pt" />
                                                <Columns>
                                                    <asp:TemplateField>
                                                        <ItemTemplate>
                                                            <asp:LinkButton ID="LinkButton2" runat="server" CausesValidation="False" 
                                                                CommandName="Select" Text="Seleccionar"><img 
                                                                                            src="logos/ver.gif" 
                                                                onclick="_Mtd_MostrarTab(1);" border='0'/></asp:LinkButton>
                                                        </ItemTemplate>
                                                        <ItemStyle HorizontalAlign="Center" />
                                                    </asp:TemplateField>
                                                    <asp:BoundField DataField="codoc" HeaderText="N° O.C." >
                                                        <HeaderStyle HorizontalAlign="Center" />
                                                        <ItemStyle HorizontalAlign="Center" />
                                                    </asp:BoundField>
                                                    <asp:TemplateField HeaderText="Estatus" >
										                <ItemTemplate>
											                @{ # "<img src='"+ColocarImagen((DataBinder.Eval(Container, "DataItem.status")).ToString())+"'>"}

										                </ItemTemplate>
                                                        <ItemStyle HorizontalAlign="Center" />
                                                    </asp:TemplateField>
                                                    <asp:BoundField DataField="fecha" HeaderText="Fecha" />
                                                    <asp:BoundField DataField="compania" HeaderText="Compañia" />
                                                    <asp:BoundField DataField="cproveedorn" HeaderText="Proveedor" />
                                                    <asp:BoundField DataField="costo" HeaderText="Costo" >
                                                        <ItemStyle HorizontalAlign="Right" />
                                                    </asp:BoundField>
                                                    <asp:TemplateField HeaderText="cproveedor" Visible="False">
                                                        <EditItemTemplate>
                                                            <asp:TextBox ID="TextBox1" runat="server" Text='@{ # Bind("cproveedor")}
'></asp:TextBox>
                                                        </EditItemTemplate>
                                                        <ItemTemplate>
                                                            <asp:Label ID="Label1" runat="server" Text='@{ # Bind("cproveedor")}
'></asp:Label>
                                                        </ItemTemplate>
                                                    </asp:TemplateField>
                                                    <asp:TemplateField HeaderText="ccompany" Visible="False">
                                                        <EditItemTemplate>
                                                            <asp:TextBox ID="_Txt_ccompany" runat="server" Text='@{ # Bind("ccompany")}
'></asp:TextBox>
                                                        </EditItemTemplate>
                                                        <ItemTemplate>
                                                            <asp:Label ID="_Lbl_ccompany" runat="server" Text='@{ # Bind("ccompany")}
'></asp:Label>
                                                        </ItemTemplate>
                                                    </asp:TemplateField>
                                                    <asp:TemplateField HeaderText="status" Visible="False">
                                                        <EditItemTemplate>
                                                            <asp:TextBox ID="_Txt_status" runat="server" Text='@{ # Bind("status")}
'></asp:TextBox>
                                                        </EditItemTemplate>
                                                        <ItemTemplate>
                                                            <asp:Label ID="_Lbl_status" runat="server" Text='@{ # Bind("status")}
'></asp:Label>
                                                        </ItemTemplate>
                                                    </asp:TemplateField>
                                                </Columns>
                                                <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                                                <PagerStyle BackColor="#2461BF" Font-Names="Verdana" Font-Size="7pt" ForeColor="White"
                                                    HorizontalAlign="Center" />
                                                <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
                                                <HeaderStyle BackColor="#BBD4F8" BorderColor="Black" Font-Bold="True" Font-Names="Verdana"
                                                    Font-Size="7pt" ForeColor="Black" HorizontalAlign="Left" />
                                                <EditRowStyle BackColor="#2461BF" />
                                                <AlternatingRowStyle BackColor="White" BorderStyle="Dashed" BorderWidth="1px" />
                                            </asp:GridView>
                                        </td>
                                    </tr>
                                </table>
                            </asp:Panel>
                        </ContentTemplate>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td align="left">
                    <asp:Image ID="Image1" runat="server" ImageUrl="~/image/leyendaOC2.gif" />
                </td>
            </tr>
        </table>
    </div>
    <div style="position: fixed; left: 40%; top: 50%; width: 200; height: 200; z-index: 100600; font-family: verdana; font-size: 9px; font-weight: bold; background-color: #FFFFFF;">
        <asp:UpdateProgress ID="UpdateProgress2" runat="server" AssociatedUpdatePanelID="UpdatePanel1"
            DisplayAfter="20">
            <ProgressTemplate>
                <div id="processMessage" style="border: 1px solid #000000">
                    Procesando la solicitud, espere por favor..!!<br />
                    <br />
                    <img alt="Loading" src="images/animated_loading.gif" />
                </div>
            </ProgressTemplate>
        </asp:UpdateProgress>
    </div>
    </form>
</body>
</html>
